<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Snake Game</title>
<style>
    body { display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
    canvas { border: 1px solid black; }
</style>
</head>
<body>
<canvas id="gameCanvas" width="400" height="400"></canvas>

<script>
const canvas = document.getElementById('gameCanvas');
const ctx = canvas.getContext('2d');

let snake = [{ x: 150, y: 150 }];
let food = { x: 200, y: 200 };
let dx = 1;
let dy = 0;

function draw() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    // Draw Snake
    snake.forEach(segment => {
        ctx.fillRect(segment.x, segment.y, 10, 10);
    });

    // Draw Food
    ctx.fillStyle = 'red';
    ctx.fillRect(food.x, food.y, 10, 10);

    let head = { x: snake[0].x + dx * 10, y: snake[0].y + dy * 10 };
    snake.unshift(head);

    // Check if Snake ate the Food
    if (head.x === food.x && head.y === food.y) {
        placeFood();
    } else {
        snake.pop();
    }

    // Collision with itself or walls
    if (!checkCollision()) return;

    function checkCollision() {
        const head = snake[0];
        if (head.x < 0 || head.x >= canvas.width - 10 ||
            head.y < 0 || head.y >= canvas.height - 10) {
            alert("Game Over");
            clearInterval(game);
        }

        for (let i = 1; i < snake.length; i++) {
            if (head.x === snake[i].x && head.y === snake[i].y) {
                alert('Game Over');
                clearInterval(game);
            }
        }
    }
}

function placeFood() {
    let foodX, foodY;
    
    do {
        foodX = Math.floor(Math.random() * canvas.width / 10) * 10;
        foodY = Math.floor(Math.random() * canvas.height / 10) * 10;

        // Avoid placing Food at snake's position
    } while (snake.some(snakePart => snakePart.x === foodX && snakePart.y === foodY));

    food.x = foodX;
    food.y = foodY;
}

document.addEventListener('keydown', changeDirection);

function changeDirection(event) {
    let key = event.keyCode;

    if ((key === 37 || key === 65) && dx !== 1) { dx = -1; dy = 0; }
    else if ((key === 38 || key === 87) && dy !== 1) { dx = 0; dy = -1; }
    else if ((key === 39 || key === 68) && dx !== -1) { dx = 1; dy = 0; }
    else if ((key === 40 || key === 83) && dy !== -1) { dx = 0; dy = 1; }
}

let game = setInterval(draw, 100);
</script>
</body>
</html>